[gd_scene load_steps=5 format=3 uid="uid://dq0i1c6gilmgx"]

[ext_resource type="Script" uid="uid://r53hox0blcf3" path="res://scripts/global/Background.gd" id="4_8t75m"]
[ext_resource type="PackedScene" uid="uid://dqcbmnw2epd0h" path="res://scenes/objects/winner_playfield.tscn" id="4_snjxm"]
[ext_resource type="PackedScene" uid="uid://cerylx43rxt76" path="res://scenes/objects/background_ball.tscn" id="5_4401s"]
[ext_resource type="Script" uid="uid://cgkfdsgl2w0tp" path="res://scripts/global/VariableTimer.gd" id="7_4vlsh"]

[node name="WinnerScreen" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(480, 270)

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="Background" type="ColorRect" parent="." node_paths=PackedStringArray("backgroundBallsControl")]
layout_mode = 1
anchors_preset = -1
anchor_left = -0.052
anchor_top = -0.481
anchor_right = 1.052
anchor_bottom = 1.481
offset_left = -0.079998
offset_top = -0.259979
offset_right = 0.0799561
offset_bottom = 0.259949
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)
script = ExtResource("4_8t75m")
backgroundBallPrefab = ExtResource("5_4401s")
backgroundBallsControl = NodePath("BackgroundBalls")

[node name="BackgroundBalls" type="Control" parent="Background"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="SpawnBackgroundBall" type="Timer" parent="Background"]
autostart = true
script = ExtResource("7_4vlsh")
baseTime = 0.15
timeDeviation = 0.05

[node name="ChangeFlow" type="Timer" parent="Background"]
autostart = true
script = ExtResource("7_4vlsh")
baseTime = 15.0
timeDeviation = 5.0

[node name="WinnerPlayfield" parent="." node_paths=PackedStringArray("camera", "background") instance=ExtResource("4_snjxm")]
layout_mode = 1
camera = NodePath("../Camera2D")
background = NodePath("../Background")

[connection signal="timeout" from="Background/SpawnBackgroundBall" to="Background" method="addBackgroundBall"]
[connection signal="timeout" from="Background/ChangeFlow" to="Background" method="initiateFlowChange"]
